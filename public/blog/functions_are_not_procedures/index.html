<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="/images/pilgrim.png" />
<title>Functions are not procedures | don&#39;t just talk agile - walk agile!</title>
<meta name="title" content="Functions are not procedures" />
<meta name="description" content="I would like to play around a bit with the go programming language. It is not a bad idea to learn a new programming language every once in a while to get to know different paradigms. I did that extensively in the first years of my professional career when I was working abroad and had a lot of time during my lonely hotel nights. I do it very little today where I prefer to spend my free time with my family." />
<meta name="keywords" content="" />






  
  <meta property="og:title" content="Functions are not procedures" />
<meta property="og:description" content="I would like to play around a bit with the go programming language. It is not a bad idea to learn a new programming language every once in a while to get to know different paradigms. I did that extensively in the first years of my professional career when I was working abroad and had a lot of time during my lonely hotel nights. I do it very little today where I prefer to spend my free time with my family." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://walkagile.com/blog/functions_are_not_procedures/" /><meta property="og:image" content="https://walkagile.com/hugo-bearcub/images/share.webp"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-04-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-04-05T00:00:00+00:00" /><meta property="og:site_name" content="don&#39;t just talk agile - walk agile!" />



  
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://walkagile.com/hugo-bearcub/images/share.webp"/>

<meta name="twitter:title" content="Functions are not procedures"/>
<meta name="twitter:description" content="I would like to play around a bit with the go programming language. It is not a bad idea to learn a new programming language every once in a while to get to know different paradigms. I did that extensively in the first years of my professional career when I was working abroad and had a lot of time during my lonely hotel nights. I do it very little today where I prefer to spend my free time with my family."/>
<meta name="twitter:site" content="@walkagile"/>


  
  <meta itemprop="name" content="Functions are not procedures">
<meta itemprop="description" content="I would like to play around a bit with the go programming language. It is not a bad idea to learn a new programming language every once in a while to get to know different paradigms. I did that extensively in the first years of my professional career when I was working abroad and had a lot of time during my lonely hotel nights. I do it very little today where I prefer to spend my free time with my family."><meta itemprop="datePublished" content="2023-04-05T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-04-05T00:00:00+00:00" />
<meta itemprop="wordCount" content="681"><meta itemprop="image" content="https://walkagile.com/hugo-bearcub/images/share.webp"/>
<meta itemprop="keywords" content="" />

<meta name="referrer" content="no-referrer-when-downgrade" />

  
  <link href="/style.min.css" rel="stylesheet">

  
  <link href="/syntax.min.css" rel="stylesheet">

  

  
</head>

<body>
  <header><a href="/" class="title"><h2>don&#39;t just talk agile - walk agile!</h2></a>
<nav>
  <a href="/">Home</a>

  <a href="/blog/">Blog</a>


<a href='mailto:peterhaefliger@yahoo.com?subject=Reply%20to%20"Functions%20are%20not%20procedures"'>Email</a>

<a href="/blog/index.xml">RSS</a>







</nav>
</header>
  <main>

<h1>Functions are not procedures</h1>
<p>
  <i>
    <time datetime='2023-04-05' pubdate>
      2023-04-05
    </time>
  </i>
</p>

<content>
  <p>I would like to play around a bit with the <a href="https://go.dev/">go programming language</a>. It is not a bad idea to learn a new programming language every once in a while to get to know different paradigms. I did that extensively in the first years of my professional career when I was working abroad and had a lot of time during my lonely hotel nights. I do it very little today where I prefer to spend my free time with my family.</p>
<p>I mostly work with Oracle SQL and PL/SQL in my job. The last time I played around with alternative languages was in 2019 when I studied some data science with R and Python. I now would like to learn some go because it&rsquo;s the language in which Hugo is written, the static site generator which I use to render this site. To get started, I evaluated several resources and finally decided to buy John Arundel&rsquo;s book <a href="https://bitfieldconsulting.com/books/love">&ldquo;For the Love of Go&rdquo;</a>. A great book, as far as I can tell after the first three chapters.</p>
<p>In these first chapters, a <code>calculator</code> package is built. It contains, amongst others, the functions <code>Add</code> and <code>Multiply</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="ln"> 1</span><span class="c1">// Package calculator does simple calculations.
</span><span class="ln"> 2</span><span class="c1"></span><span class="kn">package</span> <span class="nx">calculator</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span><span class="c1">// Add takes two numbers and returns the result 
</span><span class="ln"> 5</span><span class="c1">// of adding them together.
</span><span class="ln"> 6</span><span class="c1"></span><span class="kd">func</span> <span class="nf">Add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
<span class="ln"> 7</span>  <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="ln"> 8</span><span class="p">}</span>
<span class="ln"> 9</span>
<span class="ln">10</span><span class="c1">// Multiply takes two numbers and returns the result 
</span><span class="ln">11</span><span class="c1">// of multiplying one by the other.
</span><span class="ln">12</span><span class="c1"></span><span class="kd">func</span> <span class="nf">Multiply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
<span class="ln">13</span>  <span class="k">return</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>
<span class="ln">14</span><span class="p">}</span>
</code></pre></div><p>I like the way packages and functions are introduced, and I especially like the test-driven approach promoted by the book and by the language itself. A <code>calculator_test</code> package is presented immediately. It contains test functions for all the functions in the <code>calculator</code> package.</p>
<p>What I do <em>not</em> like in the above code snippet, however, is the <em>names</em> of the two functions.</p>
<p><code>Add</code> and <code>Multiply</code> are verbs in imperative mood. They are <em>commands</em>. Commands make good names for <em>procedures</em> but not for functions. Procedures like <code>write</code>, <code>draw</code>, <code>save</code> should do what their name implies, and they should <em>not</em> return any result. Functions, on the other hand, do return a result, and they should be named by what they return. They should also not <em>do</em> anything except return a result or, to be more precise, they should not produce any abstract side-effects. That&rsquo;s what Bertrand Meyer calls the <strong>Command-Query Separation Principle</strong>, explained on page 751 in his influential book &ldquo;Object-Oriented Software Construction, 2nd edition&rdquo;, which is now <a href="https://bertrandmeyer.com/OOSC2/">freely available online</a>.</p>
<p>If we name the functions by what they return:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="ln"> 1</span><span class="c1">// Package calculator does simple calculations.
</span><span class="ln"> 2</span><span class="c1"></span><span class="kn">package</span> <span class="nx">calculator</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span><span class="c1">// Returns the sum of a and b.
</span><span class="ln"> 5</span><span class="c1"></span><span class="kd">func</span> <span class="nf">Sum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
<span class="ln"> 6</span>  <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="ln"> 7</span><span class="p">}</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span><span class="c1">// Returns the product of a and b.
</span><span class="ln">10</span><span class="c1"></span><span class="kd">func</span> <span class="nf">Product</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
<span class="ln">11</span>  <span class="k">return</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>
<span class="ln">12</span><span class="p">}</span>
</code></pre></div><p>then the code which calls them looks a lot nicer:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="ln">1</span><span class="nx">s</span> <span class="o">:=</span> <span class="nx">calculator</span><span class="p">.</span><span class="nf">Sum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="ln">2</span><span class="nx">p</span> <span class="o">:=</span> <span class="nx">calculator</span><span class="p">.</span><span class="nf">Product</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</code></pre></div><p>This reads as:</p>
<ul>
<li>Let <code>s</code> be the <strong>sum</strong> of 2 and 3.</li>
<li>Let <code>p</code> be the <strong>product</strong> of 4 and 5.</li>
</ul>
<p>I find this a lot more intuitive than any of the following:</p>
<ul>
<li>Let <code>s</code> be the <em>result</em> of adding 2 and 3.</li>
<li>Multiply 4 by 5 and assign the <em>result</em> to <code>p</code>&quot;.</li>
</ul>
<p>If you only program in languages which treat procedures merely as functions which do not return any result (or maybe return something like <code>void</code>), then this insistance on different naming patterns might seem just a matter of taste. But there are languages which distinguish strongly between functions (which are <em>called</em>) and procedures (which are <em>executed</em>).</p>
<p>To Oracle, calling a function which returns a value is conceptually equal to selecting a value from a table, so the syntax is the same. For our example above, it would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="ln">1</span><span class="k">select</span><span class="w"> </span><span class="n">calculator</span><span class="p">.</span><span class="k">sum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w">
</span></code></pre></div><p>A procedure, on the other hand, needs to be executed:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="ln">1</span><span class="k">exec</span><span class="w"> </span><span class="n">calculator</span><span class="p">.</span><span class="k">start</span><span class="p">;</span><span class="w">
</span></code></pre></div><p>Fortunately, my developer colleagues at Avaloq do care about function and variable names and about many other small things which make our code more readable, understandable and maintainable.</p>

</content>
<p>
  
</p>

  </main>
  <footer><small>
  Peter Häfliger | Created with <a href="https://gohugo.io/">HUGO</a> in <a href="https://replit.com">replit</a> and <a href="https://github.com">github</a>, using <a href="https://lente.dev/en/">Caio Lente&rsquo;s</a> <a href="https://themes.gohugo.io/themes/hugo-bearcub/">Bear Cub</a> theme. Powered by <a href="https://netlify.com">netlify</a>.
</small></footer>

    
</body>

</html>
